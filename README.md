# üöÄ ETL-–ø–∞–π–ø–ª–∞–∏–Ω –¥–ª—è –≤–∞–∫–∞–Ω—Å–∏–π Data Engineer —Å hh.ru
–ü—Ä–æ–µ–∫—Ç –¥–ª—è –∫—É—Ä—Å–æ–≤–æ–π —Ä–∞–±–æ—Ç—ã –ø–æ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–µ ¬´–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è¬ª.

## üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞
–°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–±–æ—Ä–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∞–∫–∞–Ω—Å–∏–π.

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ –∏ —Ñ–∞–π–ª–æ–≤:
- **`src/`** - –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ Python
  - üéØ **`extract.py`** - –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å HH API
  - üîÑ **`transform.py`** - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –æ—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö  
  - üíæ **`load.py`** - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ CSV
  - üéÆ **`main.py`** - –ì–ª–∞–≤–Ω—ã–π —É–ø—Ä–∞–≤–ª—è—é—â–∏–π —Å–∫—Ä–∏–ø—Ç

- **`data/`** - –î–∞–Ω–Ω—ã–µ –ø—Ä–∏ –ª–æ–∫–∞–ª—å–Ω–æ–º –∑–∞–ø—É—Å–∫–µ
- **`docker-data/`** - –î–∞–Ω–Ω—ã–µ –ø—Ä–∏ Docker –∑–∞–ø—É—Å–∫–µ
- **`Dockerfile`** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker-–æ–±—Ä–∞–∑–∞
- **`requirements.txt`** - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
- **`docker.env`** - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **`.pre-commit-config.yaml`** - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö:
HH API ‚Üí üì• Extract ‚Üí üîÑ Transform ‚Üí üíæ Load ‚Üí üìä CSV —Ñ–∞–π–ª—ã
### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫:
- **üêç Python 3.11+** - –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫
- **üê≥ Docker** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è  
- **üìä Pandas** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- **üåê Requests** - HTTP-–∑–∞–ø—Ä–æ—Å—ã
- **‚öôÔ∏è Pre-commit** - –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞

## ‚è© –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
py -m pip install requirements.txt
### 2. –ó–∞–ø—É—Å–∫ –ø–∞–π–ø–ª–∞–∏–Ω–∞
py src/main.py
### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
dir data/

## –ó–∞–ø—É—Å–∫ –≤ Docker
### 1. –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞ 
docker build -t hh-etl .
### 2. –ó–∞–ø—É—Å–∫ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö
docker run --rm --env-file docker.env -v ${PWD}/docker-data:/app/data hh-etl
### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
dir docker-data/

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
–°–æ–∑–¥–∞—ë–º —Ñ–∞–π–ª docker.env –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø–æ–¥ —Å–µ–±—è:
### –ö–∞–∫—É—é –≤–∞–∫–∞–Ω—Å–∏—é –∏—â–µ–º?
SEARCH_QUERY=Data Engineer
### –ì–¥–µ –∏—â–µ–º? (1. –ú–æ—Å–∫–≤–∞, 2. –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥)
AREA_ID=1
### –ö–∞–∫–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞–∫–∞–Ω—Å–∏–π –∏—â–µ–º?
PER_PAGE=10

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
### –ü–æ–∏—Å–∫ Python —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –≤ –ú–æ—Å–∫–≤–µ
SEARCH_QUERY=Python developer
AREA_ID=1
PER_PAGE=15
### –ü–æ–∏—Å–∫ Data Scientist –≤ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–µ
SEARCH_QUERY=Data Scientist
AREA_ID=2
PER_PAGE=30

## üìä –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
### –ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö:
### –ö–æ–º–ø–∞–Ω–∏—è,–ó–∞—Ä–ø–ª–∞—Ç–∞,–ì–æ—Ä–æ–¥,–ù–∞–≤—ã–∫–∏,–°—Å—ã–ª–∫–∞
### –Ø–Ω–¥–µ–∫—Å,150000,–ú–æ—Å–∫–≤–∞,"Python, SQL, Apache Spark",https://hh.ru/vacancy/123
### VK,180000,–ú–æ—Å–∫–≤–∞,"Docker, Kubernetes, AWS",https://hh.ru/vacancy/456

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pandas==2.3.3      # –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö
requests==2.32.5   # HTTP-–∑–∞–ø—Ä–æ—Å—ã
python-dotenv==1.0.0 # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## üîß –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
###black src/    # –ê–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
###isort src/    # –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤
###ruff src/     # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞

## üîÑ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ ETL-–ø–∞–π–ø–ª–∞–∏–Ω–∞

**üì• Extract ‚Üí üîÑ Transform ‚Üí üíæ Load**

### 1. Extract - –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- –ó–∞–ø—Ä–æ—Å –∫ HH API
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å–µ—Ç–∏
- –ü–æ–ª—É—á–µ–Ω–∏–µ JSON —Å –≤–∞–∫–∞–Ω—Å–∏—è–º–∏

### 2. Transform - –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- –û—á–∏—Å—Ç–∫–∞ –æ—Ç HTML-—Ä–∞–∑–º–µ—Ç–∫–∏
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –Ω–∞–≤—ã–∫–æ–≤
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### 3. Load - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV —Ñ–æ—Ä–º–∞—Ç
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —É–∫–∞–∑–∞–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é

## ‚ùì –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã
**–í: –ö–∞–∫ –ø–æ–º–µ–Ω—è—Ç—å –≥–æ—Ä–æ–¥ –ø–æ–∏—Å–∫–∞?**
–û: –ò–∑–º–µ–Ω–∏ AREA_ID –≤ docker.env (1-–ú–æ—Å–∫–≤–∞, 2-–°–ü–±)
**–í: –ì–¥–µ –≤–∑—è—Ç—å –∫–æ–¥—ã –¥—Ä—É–≥–∏—Ö –≥–æ—Ä–æ–¥–æ–≤?**
–û: –í –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ hh.ru API
**–í: –ü–æ—á–µ–º—É –Ω–µ –≤—Å–µ –≤–∞–∫–∞–Ω—Å–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∑–∞—Ä–ø–ª–∞—Ç—É?**
–û: –≠—Ç–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ hh.ru - –Ω–µ –≤—Å–µ –∫–æ–º–ø–∞–Ω–∏–∏ –µ—ë —É–∫–∞–∑—ã–≤–∞—é—Ç
